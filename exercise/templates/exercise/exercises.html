{%extends 'base.html'%}
{%block title%} List {%endblock%}
{%block content%}
<div class="container-fluid col-10">
    <h1 class="display-3 text-center">{{muscle}} exercises</h1>
    <br/>
    
    <table class="mt-4 table table-striped table-hover">
        <thead>
            <tr>
                {%if muscle == "all"%}
                <th scope="col">Name</th>
                {%endif%}
                <th scope="col">Name</th>
                <th scope="col">Repetition</th>
                <th scope="col">Series</th>
                <th scope="col">Weight</th>
                <th scope="col">Update</th>
            </tr>
        </thead>
        <tbody>
            {%for instance in data%}
            <tr>
            {%if muscle == "all"%}
            <td><b>{{instance.0.type}}</b></td>
            {%endif%}
            <td><b>{{instance.0.name}}</b></td>
            <td>{{instance.0.repetition}}</td>
            <td>{{instance.0.series}}</td>
            <td>{{instance.0.weight}}</td>
            <td>
                
                <button type="button" class="btn btn-outline-secondary btn-sm" data-bs-toggle="modal" data-bs-target="#{{instance.2}}">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-info-lg" viewBox="0 0 16 16">
                        <path d="m10.277 5.433-4.031.505-.145.67.794.145c.516.123.619.309.505.824L6.101 13.68c-.34 1.578.186 2.32 1.423 2.32.959 0 2.072-.443 2.577-1.052l.155-.732c-.35.31-.866.434-1.206.434-.485 0-.66-.34-.536-.939l1.763-8.278zm.122-3.673a1.76 1.76 0 1 1-3.52 0 1.76 1.76 0 0 1 3.52 0z"/>
                      </svg>
                    </button>

                    <div class="modal fade" id="{{instance.2}}" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                        <div class="modal-dialog modal-lg" role="document">
                          <div class="modal-content">

                            <div class="modal-header">
                              <h1 class="display-3" style="margin-left: auto;" >{{instance.0.name}}</h1>
                              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                            </div>
                            <form role="form" action="{% url 'exercise-update' instance.0.id %}" method="POST">
                              {%csrf_token%}
                                <div class="justify-content-center form-row mt-3">
                                  <div style="width: 600px;">
                                    <div class=" form-group col mr-2">
                                      {{instance.1.name.errors}}
                                      {{instance.1.name}}
                                    </div>
                                  </div>

                                </div>
                                
                                <div class="justify-content-center mt-3 form-row">
                                    <div class="form-group col-md-2 mr-2">
                                        {{instance.1.repetition.errors}}
                                        {{instance.1.repetition}}
                                    </div>

                                    <div class="mt-2">
                                        X
                                    </div>
                                    
                                    <div class="form-group col-md-2 ml-2 mr-5">
                                        {{instance.1.series}}
                                    </div>

                                    
                                        <div class="form-group col-sm-2 input-group">
                                            {{instance.1.weight.errors}}
                                            {{instance.1.weight}}
                                            <div class="input-group-append">
                                                <span class="input-group-text">KG</span>
                                            </div>
                                        </div>
                                </div>

                                <div class="justify-content-center mt-3 form-row mb-3">
                                    {{instance.1.type.errors}}
                                    {{instance.1.type}}
                                </div>
                                <div class="modal-footer">
                                  <button type="submit" class="mt-3 btn btn-outline-success btn-lg">Save</button>
                                </div>
                            </form>
                          </div>
                        </div>
                      </div>
            </td>
            </tr>
            {%endfor%}
        </tbody>
    </table>
</div>
{%endblock content%}